<div class="flex h-screen">
  <!-- Sidebar -->
  <div class="w-64 bg-[#0A0A23] text-white border-r-2 border-[#B10303]">
    <div class="p-4 flex items-center justify-center border-b border-[#B10303]">
      <img src="/assets/images/LogoM.png" alt="Logo" class="h-25">
    </div>
    <ul class="mt-4">
      <li class="px-6 py-3 border-b border-[#B10303] flex items-center">
        <span class="mr-2"><i class="fas fa-home"></i></span>
        <a routerLink="/home">DASHBOARD</a>
      </li>

      <!-- Menú desplegable Caja -->
      <li class="px-6 py-3 border-b border-[#B10303] flex items-center cursor-pointer" (click)="toggleDropdown('caja')">
        <span class="mr-2"><i class="fas fa-cash-register"></i></span> CAJA
        <svg [class.rotate-180]="isDropdownOpen.caja" class="ml-auto h-4 w-4 transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
        </svg>
      </li>
      <ul *ngIf="isDropdownOpen.caja" class="pl-8">
        <li class="py-2 cursor-pointer"><a routerLink="/home/caja/apertura-caja">Apertura de caja</a></li>
        <li class="py-2 cursor-pointer"><a routerLink="/home/caja/cierre-caja">Cierre de caja</a></li>
      </ul>

      <!-- Menú desplegable Articulos -->
      <li class="px-6 py-3 border-b border-[#B10303] flex items-center cursor-pointer" (click)="toggleDropdown('productos')">
        <span class="mr-2"><i class="fas fa-box"></i></span> ARTICULOS
        <svg [class.rotate-180]="isDropdownOpen.productos" class="ml-auto h-4 w-4 transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
        </svg>
      </li>
      <ul *ngIf="isDropdownOpen.productos" class="pl-8">
        <li class="py-2 cursor-pointer"><a routerLink="/home/articulos/productos">Productos</a></li>
        <li class="py-2 cursor-pointer"><a routerLink="/home/articulos/categoria">Categoria</a></li>
        <li class="py-2 cursor-pointer"><a routerLink="/home/articulos/proveedores">Proveedores</a></li>
      </ul>

      <!-- Menú desplegable Inventario -->
      <li class="px-6 py-3 border-b border-[#B10303] flex items-center cursor-pointer" (click)="toggleDropdown('inventario')">
        <span class="mr-2"><i class="fas fa-clipboard-list"></i></span> INVENTARIO
        <svg [class.rotate-180]="isDropdownOpen.inventario" class="ml-auto h-4 w-4 transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
        </svg>
      </li>
      <ul *ngIf="isDropdownOpen.inventario" class="pl-8">
        <li class="py-2 cursor-pointer"><a routerLink="/home/inventario/stock">Stock</a></li>
        <li class="py-2 cursor-pointer"><a routerLink="/home/inventario/pedidos">Pedidos</a></li>
      </ul>

      <!-- Menú desplegable Ventas -->
      <li class="px-6 py-3 border-b border-[#B10303] flex items-center cursor-pointer" (click)="toggleDropdown('ventas')">
        <span class="mr-2"><i class="fas fa-clipboard-list"></i></span> VENTAS
        <svg [class.rotate-180]="isDropdownOpen.ventas" class="ml-auto h-4 w-4 transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
        </svg>
      </li>
      <ul *ngIf="isDropdownOpen.ventas" class="pl-8">
        <li class="py-2 cursor-pointer"><a routerLink="/home/ventas/venta">Ventas</a></li>
        <li class="py-2 cursor-pointer"><a routerLink="/home/ventas/historial">Historial</a></li>
      </ul>

      <!-- Menú desplegable Administración -->
      <li class="px-6 py-3 border-b border-[#B10303] flex items-center cursor-pointer" (click)="toggleDropdown('administracion')">
        <span class="mr-2"><i class="fas fa-cogs"></i></span> ADMINISTRACIÓN
        <svg [class.rotate-180]="isDropdownOpen.administracion" class="ml-auto h-4 w-4 transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
        </svg>
      </li>
      <ul *ngIf="isDropdownOpen.administracion" class="pl-8">
        <li class="py-2 cursor-pointer"><a routerLink="/home/administracion/usuarios"> Usuarios</a></li>
        <li class="py-2 cursor-pointer"><a routerLink="/home/administracion/contacto"> Contacto</a></li>
        <li class="py-2 cursor-pointer"><a routerLink="/home/administracion/roles"> Roles</a></li>
      </ul>

          <!-- Menú desplegable Reportes -->
          <li class="px-6 py-3 border-b border-[#B10303] flex items-center cursor-pointer" (click)="toggleDropdown('reportes')">
            <span class="mr-2"><i class="fas fa-cogs"></i></span> REPORTES
            <svg [class.rotate-180]="isDropdownOpen.reportes" class="ml-auto h-4 w-4 transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </li>
          <ul *ngIf="isDropdownOpen.reportes" class="pl-8">
            <li class="py-2 cursor-pointer"><a routerLink="/home/reportes/usuarios"> Usuarios</a></li>
            <li class="py-2 cursor-pointer"><a routerLink="/home/reportes/ventas"> Ventas</a></li>
            <li class="py-2 cursor-pointer"><a routerLink="/home/reportes/pedidos"> Pedidos</a></li>
            <li class="py-2 cursor-pointer"><a routerLink="/home/reportes/inventario"> Inventario</a></li>
          </ul>

        </ul>
  </div>
  <!-- Contenido principal -->
  <div class="flex-1 flex flex-col overflow-hidden">

<!-- Navbar superior -->
<div class="bg-[#B10303] text-white px-6 py-3 flex justify-end items-center relative">
  <!-- Contenedor del dropdown de usuario -->
  <div #dropdownContainer class="relative">
    <!-- Contenedor para icono de usuario y flecha -->
    <div class="flex items-center cursor-pointer" (click)="toggleDropdown('usuario')">
      <!-- Icono de usuario -->
      <img [src]="currentUser.imagen "
      (error)="currentUser.imagen = currentUser"
      class="h-8 w-8 rounded-full object-cover border mr-2"
      [alt]="'Foto de ' + currentUser.nombre">

      <!-- Información del usuario -->
      <div class="text-right mr-4">
        <span class="block text-sm font-medium">
          {{ currentUser?.name }} {{ currentUser?.apellido }}
        </span>
        <span class="block text-xs font-light">
          {{ currentUser?.role || 'Usuario' }}
        </span>
      </div>

      <!-- Flecha que rota cuando el menú está abierto -->
      <svg [class.rotate-180]="isDropdownOpen.usuario" class="ml-2 h-4 w-4 transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
      </svg>
    </div>

    <!-- Menú desplegable Usuario -->
    <ul *ngIf="isDropdownOpen.usuario" class="absolute right-0 mt-2 bg-[#0A0A23] text-white border border-[#B10303] w-48 rounded-lg shadow-lg">
      <li class="px-4 py-2 cursor-pointer hover:bg-[#B10303]" (click)="goToProfile()">Perfil</li>
      <li class="px-4 py-2 cursor-pointer hover:bg-[#B10303]" (click)="logout()">Cerrar sesión</li>
    </ul>
  </div>
</div>


    <!-- Área de contenido -->
    <div class="flex-1 p-6 bg-white overflow-auto">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>