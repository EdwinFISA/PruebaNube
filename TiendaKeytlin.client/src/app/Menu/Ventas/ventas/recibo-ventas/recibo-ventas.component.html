<div class="p-4 print:p-0" id="recibo-impresion">
  <div class="max-w-md mx-auto bg-white p-6 border border-red-500 rounded-2xl shadow-xl relative">

    <!-- Botón cerrar -->
    <button (click)="cerrar()" class="absolute top-3 right-3 text-red-600 hover:text-red-800 transition-colors duration-200">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
    </button>

    <!-- Encabezado -->
    <div class="text-center mb-4">
      <h1 class="text-2xl font-semibold text-gray-800 mb-1">Recibo de la Venta</h1>
      <div class="flex justify-center mb-2">
        <div class="w-16 h-16 flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
            class="w-16 h-16 text-red-600">
            <path
              d="M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z" />
            <path
              d="M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198c.031-.028.061-.056.091-.086L12 5.43z" />
          </svg>
        </div>
      </div>
      <p class="text-sm font-bold text-gray-700">TIENDA KEYTLIN</p>
      <div class="w-12 mx-auto mt-2 border-t border-gray-300"></div>
    </div>

    <!-- Información de contacto -->
    <div class="grid grid-cols-2 gap-4 text-sm text-gray-700 mb-4">
      <div>
        <p><strong>Teléfono:</strong> {{ data.telefonoVendedor }}</p>
        <p><strong>E-mail:</strong> {{ data.emailVendedor }}</p>
      </div>
      <div>
        <p><strong>Vendedor:</strong> {{ data.nombreVendedor }}</p>
        <p><strong>Fecha:</strong> {{ fechaFormateada }}</p>
      </div>
    </div>

    <!-- Tabla de productos -->
    <div class="mb-4">
      <table class="w-full text-sm">
        <thead>
          <tr class="border-b border-t text-gray-800">
            <th class="text-left py-1 font-medium">Producto</th>
            <th class="text-center py-1 font-medium">Cant.</th>
            <th class="text-right py-1 font-medium">Precio</th>
            <th class="text-right py-1 font-medium">Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of data.productos ?? []" class="border-b text-gray-700">
            <td class="py-2">{{ producto.nombreProducto }}</td>
            <td class="text-center py-2">{{ producto.cantidad }}</td>
            <td class="text-right py-2">{{ producto.precioUnitario | currency }}</td>
            <td class="text-right py-2">{{ producto.subtotal | currency }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Totales -->
    <div class="flex flex-col items-end mb-6 text-sm text-gray-700">
      <div class="w-48 space-y-1">
        <div class="flex justify-between">
          <span>Subtotal:</span>
          <span>{{ data.subtotal | currency }}</span>
        </div>
        <div class="flex justify-between font-semibold text-red-600 border-t pt-1">
          <span>TOTAL:</span>
          <span>{{ data.total | currency }}</span>
        </div>
      </div>
    </div>

    <!-- Botón de imprimir -->
    <div class="flex justify-center print:hidden">
      <button (click)="imprimirRecibo()"
        class="px-4 py-2 border border-transparent rounded-md shadow-sm text-white bg-[#070826] hover:bg-[#05061c] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed">
        Imprimir Recibo
      </button>
    </div>
  </div>
</div>
